<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GLOBAL DARKNET MONITORING</title>
    <style>
        :root {
            --bg: #000;
            --text: #0f0;
            --accent: #f00;
            --glow: 0 0 5px #0f0;
            --chat-bg: #0a0a0a;
            --country-outline: #0f03;
        }
        
        body {
            margin: 0;
            padding: 0;
            background: var(--bg);
            color: var(--text);
            font-family: 'Courier New', monospace;
            overflow: hidden;
            text-shadow: var(--glow);
            height: 100vh;
            display: grid;
            grid-template-columns: 70% 30%;
        }
        
        #map-container {
            position: relative;
            border-right: 1px solid #333;
            overflow: hidden;
            cursor: grab;
            user-select: none;
        }
        
        #world-map {
            width: 200%;
            height: 200%;
            background: #001100;
            position: absolute;
            top: -50%;
            left: -50%;
        }
        
        .country {
            position: absolute;
            pointer-events: none;
            border: 1px solid var(--country-outline);
        }
        
        #usa {
            width: 20%;
            height: 20%;
            top: 40%;
            left: 25%;
        }
        
        #canada {
            width: 25%;
            height: 25%;
            top: 30%;
            left: 20%;
        }
        
        #mexico {
            width: 15%;
            height: 15%;
            top: 50%;
            left: 25%;
        }
        
        #chat-container {
            display: flex;
            flex-direction: column;
            height: 100vh;
            border-left: 1px solid #333;
            background: var(--chat-bg);
        }
        
        #chat-header {
            padding: 10px;
            border-bottom: 1px solid #333;
            text-align: center;
            font-weight: bold;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        #chat-messages {
            flex-grow: 1;
            overflow-y: auto;
            padding: 10px;
        }
        
        .chat-message {
            margin-bottom: 10px;
            line-height: 1.4;
        }
        
        .node {
            position: absolute;
            width: 8px;
            height: 8px;
            background: #0f0;
            border-radius: 50%;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .node:hover {
            transform: scale(1.5);
            box-shadow: 0 0 10px #0f0;
        }
        
        .node-menu {
            position: absolute;
            background: #111;
            border: 1px solid #0f0;
            padding: 10px;
            z-index: 100;
            display: none;
            width: 200px;
        }
        
        .node-info {
            margin-bottom: 10px;
        }
        
        .node-actions {
            display: flex;
            justify-content: space-between;
        }
        
        .node-actions button {
            background: #111;
            color: #0f0;
            border: 1px solid #0f0;
            padding: 3px 6px;
            cursor: pointer;
        }
        
        .node-actions button:hover {
            background: #0f0;
            color: #000;
        }
        
        .blink {
            animation: blink 1s step-end infinite;
        }
        
        @keyframes blink {
            50% { opacity: 0; }
        }
        
        /* Scrollbar */
        ::-webkit-scrollbar {
            width: 5px;
        }
        
        ::-webkit-scrollbar-track {
            background: #111;
        }
        
        ::-webkit-scrollbar-thumb {
            background: #0f0;
        }
        
        .caps {
            text-transform: uppercase;
        }
        
        .error {
            color: #f00;
        }
        
        .warning {
            color: #ff0;
        }
        
        .russian {
            color: #0af;
        }
        
        .panic {
            animation: panic 0.1s linear infinite;
        }
        
        @keyframes panic {
            0% { color: #f00; text-shadow: 0 0 5px #f00; }
            50% { color: #ff0; text-shadow: 0 0 5px #ff0; }
            100% { color: #f00; text-shadow: 0 0 5px #f00; }
        }
        
        #notify-panel {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: #111;
            border: 1px solid #0f0;
            padding: 15px;
            z-index: 1000;
            display: none;
            width: 300px;
        }
        
        #notify-input {
            width: 100%;
            background: #000;
            color: #0f0;
            border: 1px solid #0f0;
            padding: 5px;
            margin-bottom: 10px;
            font-family: 'Courier New', monospace;
        }
        
        #notify-send {
            background: #000;
            color: #0f0;
            border: 1px solid #0f0;
            padding: 5px 10px;
            cursor: pointer;
            margin-right: 5px;
        }
        
        #notify-close {
            background: #000;
            color: #f00;
            border: 1px solid #f00;
            padding: 5px 10px;
            cursor: pointer;
        }
        
        #notify-btn {
            background: #000;
            color: #0f0;
            border: 1px solid #0f0;
            padding: 5px 10px;
            cursor: pointer;
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 1000;
        }
    </style>
</head>
<body>
    <div id="map-container">
        <div id="world-map">
            <!-- Country outlines -->
            <div id="usa" class="country"></div>
            <div id="canada" class="country"></div>
            <div id="mexico" class="country"></div>
            <!-- Add more countries as needed -->
        </div>
    </div>
    
    <div id="chat-container">
        <div id="chat-header">
            <span>GLOBAL DARKNET MONITORING</span>
            <button id="notify-btn">Notify Server</button>
        </div>
        <div id="chat-messages"></div>
    </div>

    <div id="notify-panel">
        <input type="text" id="notify-input" placeholder="Enter your message...">
        <div>
            <button id="notify-send">Send</button>
            <button id="notify-close">Close</button>
        </div>
    </div>

    <script>
        // ===== MAP CONTROLS =====
        const mapContainer = document.getElementById('map-container');
        const worldMap = document.getElementById('world-map');
        let isDragging = false;
        let startPos = { x: 0, y: 0 };
        let translate = { x: 0, y: 0 };

        mapContainer.addEventListener('mousedown', (e) => {
            isDragging = true;
            startPos = { x: e.clientX, y: e.clientY };
            mapContainer.style.cursor = 'grabbing';
        });

        document.addEventListener('mousemove', (e) => {
            if (!isDragging) return;
            
            const dx = e.clientX - startPos.x;
            const dy = e.clientY - startPos.y;
            
            translate.x += dx;
            translate.y += dy;
            
            worldMap.style.transform = `translate(${translate.x}px, ${translate.y}px)`;
            
            startPos = { x: e.clientX, y: e.clientY };
        });

        document.addEventListener('mouseup', () => {
            isDragging = false;
            mapContainer.style.cursor = 'grab';
        });

        // ===== GAME STATE =====
        let bansCount = 0;
        let panicLevel = 0;
        let isPanicMode = false;
        const nodes = [];
        
        // Country data
        const countries = {
            usa: { name: "USA", nodes: [] },
            canada: { name: "Canada", nodes: [] },
            mexico: { name: "Mexico", nodes: [] }
        };

        const users = [
            "Agent_K", "Ghost", "NullByte", "Overlord", "Phantom", 
            "Rogue", "Shadow", "Spectre", "Virus", "ZeroCool",
            "KiberBaron", "DarkLord", "Neo", "Trinity", "Morpheus"
        ];

        const devices = [
            "Mainframe", "Server", "Router", "Satellite", 
            "Drone", "Sensor", "Node", "Hub", "Relay",
            "Firewall", "Proxy", "Tor Node", "VPN Cluster"
        ];

        const problems = [
            "Device keeps shutting down randomly",
            "System freezing every 20 minutes",
            "CPU overheating to critical levels",
            "Unauthorized access attempts",
            "Data corruption detected",
            "Security breach detected",
            "Устройство самопроизвольно выключается",
            "Обнаружены попытки несанкционированного доступа",
            "Обнаружено нарушение безопасности"
        ];

        const responses = [
            "Negative, command not recognized",
            "Affirmative, processing request",
            "Warning: unauthorized command",
            "System overload detected",
            "ERROR: insufficient privileges",
            "Это невозможно выполнить",
            "Команда принята к исполнению"
        ];

        // ===== NODE MANAGEMENT =====
        function createNode(countryId) {
            const country = document.getElementById(countryId);
            if (!country) return;
            
            const node = document.createElement('div');
            node.className = 'node';
            
            // Random position within country
            const x = Math.random() * 100;
            const y = Math.random() * 100;
            
            node.style.left = `${x}%`;
            node.style.top = `${y}%`;
            
            // Create menu
            const menu = document.createElement('div');
            menu.className = 'node-menu';
            
            // Generate random node info
            const username = users[Math.floor(Math.random() * users.length)];
            const ip = `${Math.floor(Math.random() * 255)}.${Math.floor(Math.random() * 255)}.${Math.floor(Math.random() * 255)}.${Math.floor(Math.random() * 255)}`;
            const password = generatePassword();
            const device = devices[Math.floor(Math.random() * devices.length)];
            const status = Math.random() > 0.3 ? "Online" : "Offline";
            const uptime = `${Math.floor(Math.random() * 30)}d ${Math.floor(Math.random() * 24)}h ${Math.floor(Math.random() * 60)}m`;
            
            menu.innerHTML = `
                <div class="node-info">
                    <strong>${countries[countryId].name} NODE</strong><br>
                    User: ${username}<br>
                    IP: ${ip}<br>
                    Password: ${password}<br>
                    Device: ${device}<br>
                    Status: <span class="${status === 'Online' ? 'warning' : 'error'}">${status}</span><br>
                    Uptime: ${uptime}<br>
                    Last ping: ${Math.floor(Math.random() * 500)}ms
                </div>
                <div class="node-actions">
                    <button onclick="banNode(this)">BAN</button>
                    <button onclick="kickNode(this)">KICK</button>
                    <button onclick="closeMenu(this)">CLOSE</button>
                </div>
            `;
            
            // Add to country
            country.appendChild(node);
            const nodeObj = { 
                element: node, 
                menu,
                country: countryId,
                info: { username, ip, password, device, status, uptime }
            };
            
            nodes.push(nodeObj);
            countries[countryId].nodes.push(nodeObj);
            
            // Randomly report problems
            if (Math.random() > 0.5) {
                setTimeout(() => {
                    reportProblem(username, device, countryId);
                }, Math.random() * 10000);
            }
            
            return nodeObj;
        }

        // ===== SYSTEM INITIALIZATION =====
        function initSystem() {
            // Create initial nodes for each country
            Object.keys(countries).forEach(countryId => {
                for (let i = 0; i < 5; i++) {
                    createNode(countryId);
                }
            });
            
            // Add system messages
            addChatMessage("SYSTEM", "Initializing Global DarkNet Monitoring...", false, true);
            addChatMessage("SYSTEM", "Tracking nodes across North America...", false, true);
            addChatMessage("SYSTEM", `USA: ${countries.usa.nodes.length} nodes`, false, false);
            addChatMessage("SYSTEM", `Canada: ${countries.canada.nodes.length} nodes`, false, false);
            addChatMessage("SYSTEM", "All systems operational", false, false);
            
            // Start periodic node creation
            setInterval(() => {
                Object.keys(countries).forEach(countryId => {
                    if (countries[countryId].nodes.length < 15) {
                        createNode(countryId);
                    }
                });
            }, 3000);
        }

        // ===== OTHER FUNCTIONS (same as before) =====
        function generatePassword() {
            const chars = 'ABCDEFGHJKLMNPQRSTUVWXYZabcdefghjkmnpqrstuvwxyz23456789!@#$%^&*';
            return Array.from({length: 12}, () => chars[Math.floor(Math.random() * chars.length)]).join('');
        }

        function closeAllMenus() {
            nodes.forEach(node => {
                if (node.menu) node.menu.style.display = 'none';
            });
        }

        function banNode(button) {
            const menu = button.closest('.node-menu');
            const node = nodes.find(n => n.menu === menu);
            
            if (node) {
                node.element.style.backgroundColor = '#f00';
                setTimeout(() => {
                    node.element.style.display = 'none';
                    // Remove from country nodes array
                    countries[node.country].nodes = countries[node.country].nodes.filter(n => n !== node);
                }, 1000);
                
                bansCount++;
                addChatMessage("SYSTEM", `${countries[node.country].name} node ${node.info.ip} BANNED`, true);
                
                if (bansCount === 3) startQuestions();
                else if (bansCount > 3) increasePanic();
            }
        }

        function kickNode(button) {
            const menu = button.closest('.node-menu');
            const node = nodes.find(n => n.menu === menu);
            
            if (node) {
                node.element.style.backgroundColor = '#ff0';
                setTimeout(() => {
                    node.element.style.left = `${Math.random() * 100}%`;
                    node.element.style.top = `${Math.random() * 100}%`;
                    node.element.style.backgroundColor = '#0f0';
                }, 1000);
                addChatMessage("SYSTEM", `${countries[node.country].name} node ${node.info.ip} relocated`, true);
            }
        }

        function reportProblem(user, device, country) {
            const problem = problems[Math.floor(Math.random() * problems.length)];
            const isRussian = problem.match(/[А-Яа-я]/);
            
            addChatMessage(user, `${device} in ${countries[country].name} - ${problem}`, 
                         Math.random() > 0.7, Math.random() > 0.7, isRussian);
            
            if (Math.random() > 0.3) {
                setTimeout(() => reportProblem(user, device, country), Math.random() * 15000 + 5000);
            }
        }

        function addChatMessage(user, message, isError = false, isCaps = false, isRussian = false) {
            const chat = document.getElementById('chat-messages');
            const msgElement = document.createElement('div');
            
            let className = 'chat-message';
            if (isError) className += ' error';
            if (isCaps) className += ' caps';
            if (isRussian) className += ' russian';
            if (isPanicMode && Math.random() > 0.7) className += ' panic';
            
            msgElement.className = className;
            msgElement.textContent = `[${new Date().toLocaleTimeString()}] ${user}: ${message}`;
            chat.appendChild(msgElement);
            chat.scrollTop = chat.scrollHeight;
        }

        // ===== PANIC MECHANICS =====
        function startQuestions() {
            addChatMessage("SYSTEM", "WARNING: Multiple nodes banned", true, true);
            addChatMessage("UNKNOWN", "Why are you banning our nodes?", false, false);
            
            setTimeout(() => {
                isPanicMode = true;
                panicLevel = 1;
            }, 2000);
        }

        function increasePanic() {
            panicLevel = Math.min(panicLevel + 1, 5);
            
            const panicMessages = [
                "NETWORK INSTABILITY DETECTED",
                "SECURITY PROTOCOLS COMPROMISED",
                "EMERGENCY: MULTIPLE NODES OFFLINE",
                "CRITICAL FAILURE: FIREWALL BREACH",
                "FATAL ERROR: SYSTEM INTEGRITY AT RISK"
            ];
            
            addChatMessage("SYSTEM", panicMessages[panicLevel-1], true, true);
            
            // In high panic, start randomly banning nodes
            if (panicLevel >= 3) {
                Object.keys(countries).forEach(countryId => {
                    const nodesToBan = Math.floor(Math.random() * 2);
                    for (let i = 0; i < nodesToBan; i++) {
                        setTimeout(() => {
                            const countryNodes = countries[countryId].nodes;
                            if (countryNodes.length > 0) {
                                const randomNode = countryNodes[Math.floor(Math.random() * countryNodes.length)];
                                randomNode.element.style.backgroundColor = '#f00';
                                setTimeout(() => {
                                    randomNode.element.style.display = 'none';
                                    countries[countryId].nodes = countryNodes.filter(n => n !== randomNode);
                                }, 1000);
                                addChatMessage("SYSTEM", `${countries[countryId].name} node ${randomNode.info.ip} disconnected`, true);
                            }
                        }, i * 3000);
                    }
                });
            }
        }

        // ===== NOTIFY PANEL =====
        document.getElementById('notify-btn').addEventListener('click', () => {
            document.getElementById('notify-panel').style.display = 'block';
            document.getElementById('notify-input').focus();
        });

        document.getElementById('notify-close').addEventListener('click', () => {
            document.getElementById('notify-panel').style.display = 'none';
        });

        function sendNotification() {
            const message = document.getElementById('notify-input').value.trim();
            if (message) {
                addChatMessage("OPERATOR", message, false, false);
                document.getElementById('notify-input').value = '';
                
                setTimeout(() => {
                    const response = responses[Math.floor(Math.random() * responses.length)];
                    const isRussian = response.match(/[А-Яа-я]/);
                    addChatMessage("SYSTEM", response, true, Math.random() > 0.5, isRussian);
                    
                    if (panicLevel < 5) {
                        panicLevel++;
                        increasePanic();
                    }
                }, 1000 + Math.random() * 2000);
            }
        }

        document.getElementById('notify-send').addEventListener('click', sendNotification);
        document.getElementById('notify-input').addEventListener('keypress', (e) => {
            if (e.key === 'Enter') sendNotification();
        });

        // ===== SECURITY =====
        document.addEventListener('contextmenu', (e) => {
            e.preventDefault();
            addChatMessage("SECURITY", "Unauthorized access attempt blocked", true);
        });

        document.addEventListener('keydown', (e) => {
            if (e.key === 'F12' || (e.ctrlKey && e.shiftKey && ['I','J'].includes(e.key))) {
                e.preventDefault();
                addChatMessage("SECURITY", "Developer tools access denied", true);
            }
        });

        // Start the system
        window.onload = initSystem;
    </script>
</body>
</html>
